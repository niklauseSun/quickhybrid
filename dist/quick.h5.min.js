/*!
 * quickhybrid v0.0.1
 * (c) 2017-2021 dailc
 * Released under the BSD-3-Clause License.
 * https://github.com/quickhybrid/quickhybrid
 */
!function(e){("object"!=typeof exports||"undefined"==typeof module)&&"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var e,u="mui-popup-in",d="mui-popup-out",m="mui-popup-input",p="mui-popup-button",v="mui-active",h=[],f=((e=document.createElement("div")).classList.add("mui-popup-backdrop"),e.addEventListener("webkitTransitionEnd",function(){e.classList.contains(v)||e.parentNode&&e.parentNode.removeChild(e)}),e),l=function(e){return'<div class="'+m+'">'+('<input type="text" autofocus placeholder="'+(e||"")+'"/>')+"</div>"},c=function(e,t,a){return'<div class="mui-popup-inner">'+('<div class="mui-popup-title">'+t+"</div>")+('<div class="mui-popup-text">'+e+"</div>")+(a||"")+"</div>"},g=function(e){for(var t=e.length,a=[],n=0;n<t;n+=1)a.push('<span class="'+p+" "+(n===t-1?"mui-popup-button-bold":"")+'">'+e[n]+"</span>");return'<div class="mui-popup-buttons">'+a.join("")+"</div>"},y=function(e,n){var e=e.replace(/[\n]/g,"<BR />"),i=document.createElement("div");i.className="mui-popup",i.innerHTML=e;function o(){i.parentNode&&i.parentNode.removeChild(i),i=null}i.addEventListener("webkitTransitionEnd",function(e){i&&e.target===i&&i.classList.contains(d)&&o()}),i.style.display="block",document.body.appendChild(i),i.classList.add(u),f.classList.contains(v)||(f.style.display="block",document.body.appendChild(f),f.classList.add(v));function t(e){r.close([].slice.call(a).indexOf(e.target))}var a=i.querySelectorAll("."+p),s=i.querySelector("."+m+" input"),r={element:i,close:function(e,t){var a;i&&(a=s?s.value:e||0,n&&n(a,{index:e||0,value:a}),!1!==t?(i.classList.remove(u),i.classList.add(d)):o(),h.pop(),h.length?h[h.length-1].show(t):f.classList.remove(v))}},l=document.querySelectorAll("."+p);if(l&&0<l.length)for(var c=0;c<l.length;c+=1)l[c].addEventListener("click",t);return h.length&&h[h.length-1].hide(),h.push({close:r.close,show:function(){i.style.display="block",i.classList.add(u)},hide:function(){i.style.display="none",i.classList.remove(u)}}),r};var i="MFRAME_LOADING",r=void 0;function b(e,t){var a,n=this;this.loadingDiv=((a=document.getElementById(i))||((a=document.createElement("div")).id=i,a.className="mui-backdrop mui-loading",a.innerHTML=' \n        <span class=" mui-spinner mui-spinner-white"\n            style="width: 20%;height: 20%;\n        max-width: 46px;max-height: 46px;\n        position:absolute;top:46%;left:46%;">\n        </span>\n        <span class="tipsContent" style="position:absolute;\n        font-size: 14px;\n        top:54%;left: 46%;\n        text-align: center;">\n                        加载中...\n        </span>'),a),document.body.appendChild(this.loadingDiv),this.setTitle(e),t&&!0===t.padlock&&this.loadingDiv.addEventListener("click",function(){n.close()})}b.prototype.setTitle=function(e){this.loadingDiv&&(this.loadingDiv.style.display="block",this.loadingDiv.querySelector(".tipsContent").innerText=e||"")},b.prototype.onclose=function(){},b.prototype.close=function(){this.loadingDiv&&(this.loadingDiv.style.display="none",this.onclose())},b.prototype.dispose=function(){this.loadingDiv&&this.loadingDiv.parentNode&&this.loadingDiv.parentNode.removeChild(this.loadingDiv)};var o="defaultActionSheetId",s="defaultActionSheetWrapContent",w="actionSheetContent";function k(e,t){var a=e;a.id=a.id||o;e=function(e){var t=e||{},a="";if(a+="<div "+(t.id?'id="'+t.id+'"':"")+' class="mui-popover mui-popover-action mui-popover-bottom">',t.title&&(a+='<ul class="mui-table-view">',a+='<li class="mui-table-view-cell">',a+='<a class="titleActionSheet"><b>'+t.title+"</b></a>",a+="</li>",a+="</ul>"),a+='<ul class="mui-table-view">',t.items&&Array.isArray(t.items))for(var n=0;n<t.items.length;n+=1)a+='<li class="mui-table-view-cell">',a+="<a >"+(t.items[n]||"")+"</a>",a+="</li>";return a+="</ul>",a+='<ul class="mui-table-view">',a+='<li class="mui-table-view-cell">',a+='<a class="cancelActionSheet"><b>取消</b></a>',a+="</li>",a+="</ul>",a+="</div>"}(a);document.getElementById(w)?document.getElementById(s).innerHTML=e:((n=document.createElement("div")).id=s,n.innerHTML=e,document.body.appendChild(n),mui("body").on("shown",".mui-popover",function(){}),mui("body").on("hidden",".mui-popover",function(){}));var n=document.getElementById(s);mui(n).off(),mui(n).on("tap","li > a",function(){var e=this.innerText;-1===this.className.indexOf("titleActionSheet")&&(mui("#"+a.id).popover("toggle"),-1===this.className.indexOf("cancelActionSheet")&&t&&t(e))}),mui("#"+a.id).popover("toggle")}var C=void 0,L=void 0;var P=void 0,A=void 0;function D(e){return"number"==typeof e||"string"==typeof e?(e=parseInt(e,10))<10?"0"+e:e:""}function x(e){var a,n,t=e[0],i=e[1];a=function(e){t.success&&t.success(e),i&&i(e)},n=t||{},window.mui&&window.mui.DtPicker?(L!==n.type&&(C&&(C.dispose(),C=void 0),L=n.type),(C=C||new mui.DtPicker(n)).show(function(e){var t={};"date"===n.type?t.date=e.y.value+"-"+e.m.value+"-"+e.d.value:"time"===n.type?t.time=e.h.value+":"+e.i.value:"month"===n.type?t.month=e.y.value+"-"+e.m.value:t.datetime=e.y.value+"-"+e.m.value+"-"+e.d.value+" "+e.h.value+":"+e.i.value,a&&a(t)})):console.error("错误,缺少引用的css或js,无法使用mui的dtpicker")}var N,S,T,E,M,t=window.quick;S=(N=t).innerUtil,N.extendModule("ui",[{namespace:"toast",os:["h5"],defaultParams:{message:""},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n,i,o=S.compatibleStringParamsToObject.call(this,t,"message"),s=o[0],r=o[1];o=(n=s).message,n=n.duration||2e3,(i=document.createElement("div")).classList.add("mui-toast-container"),i.innerHTML='<div class="mui-toast-message">'+o+"</div>",i.addEventListener("webkitTransitionEnd",function(){i.classList.contains(v)||(i.parentNode.removeChild(i),i=null)}),i.addEventListener("click",function(){i.parentNode.removeChild(i),i=null}),document.body.appendChild(i),i.classList.add(v),setTimeout(function(){i&&i.classList.remove(v)},n),s.success&&s.success(),r&&r()}},{namespace:"showDebugDialog",os:["h5"],defaultParams:{debugInfo:""},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=S.compatibleStringParamsToObject.call(this,t,"debugInfo");n[0]={title:"",message:n[0].debugInfo,buttonName:"确定",success:n[0].success},N.ui.alert.apply(this,n)}},{namespace:"alert",os:["h5"],defaultParams:{title:"",message:"",buttonName:"确定"},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n,i,o=S.compatibleStringParamsToObject.call(this,t,"message","title","buttonName"),s=o[0],r=o[1];i=function(){s.success&&s.success({}),r&&r({})},(o=n=s).title=o.title||"提示",o.buttonName=o.buttonName||"确定",o.message=o.message||"",n=c(o.message,o.title),o=g([o.buttonName]),y(n+o,i)}},{namespace:"confirm",os:["h5"],defaultParams:{title:"",message:"",buttonLabels:["取消","确定"]},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n,i,o,s=t[0],r=t[1];i=function(e){e={which:e};s.success&&s.success(e),r&&r(e)},(o=n=s).title=o.title||"提示",o.buttonLabels=o.buttonLabels||["确认","取消"],o.message=o.message||"",n=c(o.message,o.title),o=g(o.buttonLabels),y(n+o,i)}},{namespace:"prompt",os:["h5"],defaultParams:{title:"",hint:"",text:"",buttonLabels:["取消","确定"]},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n,i,o,s=t[0],r=t[1];i=function(e){e={which:e?1:0,content:e};s.success&&s.success(e),r&&r(e)},(o=n=s).title=o.title||"您好",o.buttonLabels=o.buttonLabels||["确认","取消"],o.text=o.text||"",o.hint=o.hint||"请输入内容",n=c(o.text,o.title,l(o.hint)),o=g(o.buttonLabels),y(n+o,i)}},{namespace:"actionSheet",os:["h5"],defaultParams:{items:[]},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t[0],i=t[1];k(n,function(e){e={which:n.items.indexOf(e),content:e};n.success&&n.success(e),i&&i(e)})}},{namespace:"pickDate",os:["h5"],defaultParams:{beginYear:1900,endYear:2100,datetime:""},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n,i=t,o=i[0],s=o.datetime;s||(s=(n=new Date).getFullYear()+"\n                -"+D(n.getMonth()+1)+"\n                -"+D(n.getDate())),o.value=s,o.type="date",x(i)}},{namespace:"pickTime",os:["h5"],defaultParams:{datetime:""},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t,i=n[0],o=new Date,s=o.getFullYear()+"\n                -"+D(o.getMonth()+1)+"\n                -"+D(o.getDate())+" ",r=i.datetime;r=r?s+r:s+(D(o.getHours())+"\n                :"+D(o.getMinutes())),i.value=r,i.type="time",x(n)}},{namespace:"pickDateTime",os:["h5"],defaultParams:{datetime:"",beginYear:1900,endYear:2100},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n,i=t,o=i[0],s=o.datetime;s||(s=(n=new Date).getFullYear()+"\n                -"+D(n.getMonth()+1)+"\n                -"+D(n.getDate())+" "+(D(n.getHours())+"\n                :"+D(n.getMinutes()))),o.value=s,o.type=null,x(i)}},{namespace:"pickMonth",os:["h5"],defaultParams:{datetime:"",beginYear:1900,endYear:2100},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t,i=n[0],o=new Date,s=i.datetime;s?s+="-"+D(o.getDate()):s=o.getFullYear()+"\n                -"+D(o.getMonth()+1)+"\n                -"+D(o.getDate())+" ",i.value=s,i.type="month",x(n)}},{namespace:"popPicker",os:["h5"],defaultParams:{layer:1,data:[]},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n,i,o,s=t[0],r=t[1];i=function(e){s.success&&s.success(e),r&&r(e)},n=(n=s)||{},window.mui&&window.mui.PopPicker?(o=n.layer||1,A!==o&&(P&&(P.dispose(),P=void 0),A=o),(P=P||new mui.PopPicker({layer:o})).setData(n.data||[]),P.show(function(e){for(var t={items:[]},a=0;a<o;a+=1)t.items.push({text:e[a].text,value:e[a].value});i&&i(t)})):console.error("未引入mui pop相关js(css)")}},{namespace:"showWaiting",os:["h5"],defaultParams:{message:"",padlock:!0},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n,i,o=t[0],s=t[1];n=o.message,i={padlock:o.padlock},void 0===r?r=new b(n,i):r.setTitle(n),o.success&&o.success({}),s&&s({})}},{namespace:"closeWaiting",os:["h5"],runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t[0],i=t[1];r&&(r.dispose(),r=void 0),n.success&&n.success(),i&&i()}}]),T=t.innerUtil,t.extendModule("page",[{namespace:"open",os:["h5"],defaultParams:{pageUrl:"",data:{}},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=T.compatibleStringParamsToObject.call(this,t,"pageUrl","data")[0];n.pageUrl=T.getFullUrlByParams(n.pageUrl,n.data),document.location.href=n.pageUrl}},{namespace:"close",os:["h5"],runCode:function(){1<window.history.length&&window.history.back()}},{namespace:"reload",os:["h5"],runCode:function(){window.location.reload()}}]),E=t.innerUtil,t.extendModule("storage",[{namespace:"getItem",os:["h5"],defaultParams:{key:""},runCode:function(t,e,a){var n=t,i=n.success,t=n.error;E.isObject(n.key)||(n.key=[n.key]);var o=n.key,s={};try{for(var r=0,l=o.length;r<l;r+=1){var c=localStorage.getItem(o[r]);s[o[r]]=c}}catch(e){n={code:0,msg:"localStorage获取值出错:"+JSON.stringify(o),result:e};return t&&t(n),void(a&&a(n))}i&&i(s),e&&e(s)}},{namespace:"setItem",os:["h5"],runCode:function(t,e,a){var n=t,i=n.success,o=n.error;try{Object.keys(n).forEach(function(e){var t;"success"!==e&&"error"!==e&&(t=n[e],localStorage.setItem(e,t))})}catch(e){t={code:0,msg:"QuotaExceededError"===e.name?"超出本地存储限额，建议先清除一些无用空间!":"localStorage存储值出错",result:e};return o&&o(t),void(a&&a(t))}i&&i({}),e&&e({})}},{namespace:"removeItem",os:["h5"],defaultParams:{key:""},runCode:function(t,e,a){var n=t,i=n.success,t=n.error;E.isObject(n.key)||(n.key=[n.key]);var o=n.key;try{for(var s=0,r=o.length;s<r;s+=1)localStorage.removeItem(o[s])}catch(e){n={code:0,msg:"localStorage移除值出错:"+JSON.stringify(o),result:e};return t&&t(n),void(a&&a(n))}i&&i({}),e&&e({})}}]),M=t.innerUtil,t.extendModule("device",[{namespace:"callPhone",os:["h5"],defaultParams:{phoneNum:""},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=M.compatibleStringParamsToObject.call(this,t,"phoneNum")[0].phoneNum;window.location.href="tel:"+n}},{namespace:"sendMsg",os:["h5"],defaultParams:{phoneNum:"",message:""},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=M.compatibleStringParamsToObject.call(this,t,"phoneNum","message"),i=n[0].phoneNum,n=n[0].message;window.location.href="sms:"+i+"?body="+n}},{namespace:"sendMail",os:["h5"],defaultParams:{mail:"",subject:"",cc:""},runCode:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=M.compatibleStringParamsToObject.call(this,t,"mail","subject","cc"),i=n[0].mail,o=n[0].subject,n=n[0].cc;window.location.href="mailto:"+i+"?subject="+o+"&cc="+n}}])});